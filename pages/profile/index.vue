<template>
  <div>

      <Background/>
      

      <EditProfile/>
      <v-row v-if="user.length != 0">
        <v-col align="right">
          <Detail
          :profile="user.get('profile')"
          :name="$auth.user.name"
          :bio="user.get('bio')"
          :mode="'user'"
          :post="post.length"
          />
        </v-col>
        <v-col v-if="post.length != 0">
          <Post :mode="'user'"/>
        </v-col>
        <v-col v-if="post.length == 0" align="left">
          <svg  width="498.78502197265624px" height="120.8px" xmlns="http://www.w3.org/2000/svg" viewBox="0.6074890136718807 14.600000000000001 498.78502197265624 120.8" style="background: rgba(0, 0, 0, 0); margin-top:100px;" preserveAspectRatio="xMidYMid"><defs><linearGradient id="editing-outline-gradient" x1="-0.41354545764260087" x2="1.4135454576426008" y1="0.09326335692419985" y2="0.9067366430758002"><stop offset="0" stop-color="#ee4208"></stop><stop offset="1" stop-color="#4139ff"></stop></linearGradient><filter id="editing-outline" x="-100%" y="-100%" width="300%" height="300%"><feMorphology in="SourceGraphic" operator="dilate" radius="1" result="outline"></feMorphology><feComposite operator="out" in="outline" in2="SourceAlpha"></feComposite></filter></defs><g filter="url(#editing-outline)"><g transform="translate(73.23001337051392, 104.47000122070312)"><path d="M2.69-39.68L2.69-39.68L2.69-39.68Q3.58-41.47 5.54-42.46L5.54-42.46L5.54-42.46Q7.49-43.46 10.18-43.46L10.18-43.46L10.18-43.46Q14.40-43.46 16.93-40.42L16.93-40.42L16.93-40.42Q19.46-37.38 19.46-30.72L19.46-30.72L19.46-7.87L34.11-42.18L41.66-42.18L43.39-9.79L43.20-7.94L58.43-42.18L67.20-42.18L46.72 0L33.09 0L31.81-19.46L23.36 0L7.94 0L6.02-30.72L6.02-30.72Q5.82-34.18 4.90-36.45L4.90-36.45L4.90-36.45Q3.97-38.72 2.69-39.68ZM66.14-1.92L66.14-1.92L66.14-1.92Q64.64-3.58 63.97-6.21L63.97-6.21L63.97-6.21Q63.30-8.83 63.30-13.12L63.30-13.12L63.30-13.12Q63.30-17.41 64.77-21.31L64.77-21.31L64.77-21.31Q66.24-25.22 68.93-28.03L68.93-28.03L68.93-28.03Q74.43-33.92 83.52-33.92L83.52-33.92L83.52-33.92Q86.78-33.92 89.15-32.83L89.15-32.83L100.10-33.92L95.36-8.96L95.36-8.96Q95.17-8.19 95.17-6.78L95.17-6.78L95.17-6.78Q95.17-5.38 96.03-4.48L96.03-4.48L96.03-4.48Q96.90-3.58 98.18-3.46L98.18-3.46L98.18-3.46Q97.54-1.28 95.20 0L95.20 0L95.20 0Q92.86 1.28 90.24 1.28L90.24 1.28L90.24 1.28Q87.62 1.28 85.86 0.29L85.86 0.29L85.86 0.29Q84.10-0.70 83.58-2.37L83.58-2.37L83.58-2.37Q82.56-0.77 80.38 0.26L80.38 0.26L80.38 0.26Q78.21 1.28 75.30 1.28L75.30 1.28L75.30 1.28Q72.38 1.28 70.02 0.51L70.02 0.51L70.02 0.51Q67.65-0.26 66.14-1.92ZM79.65-27.90L79.65-27.90L79.65-27.90Q78.91-26.75 78.27-24.80L78.27-24.80L78.27-24.80Q77.63-22.85 76.58-17.63L76.58-17.63L76.58-17.63Q75.52-12.42 75.52-8.70L75.52-8.70L75.52-8.70Q75.52-4.99 76.10-3.90L76.10-3.90L76.10-3.90Q76.67-2.82 77.70-2.82L77.70-2.82L77.70-2.82Q79.74-2.82 81.25-4.77L81.25-4.77L81.25-4.77Q82.75-6.72 83.33-10.18L83.33-10.18L86.72-28.93L86.72-28.93Q85.38-30.08 83.81-30.08L83.81-30.08L83.81-30.08Q82.24-30.08 81.31-29.57L81.31-29.57L81.31-29.57Q80.38-29.06 79.65-27.90ZM118.85-3.52L118.85-3.52L118.85-3.52Q116.86 1.28 110.53 1.28L110.53 1.28L110.53 1.28Q107.33 1.28 105.28-0.96L105.28-0.96L105.28-0.96Q103.62-2.82 103.62-4.93L103.62-4.93L103.62-4.93Q103.62-9.73 105.86-20.22L105.86-20.22L110.53-44.80L123.52-46.08L117.31-13.70L117.31-13.70Q116.22-8.96 116.22-7.30L116.22-7.30L116.22-7.30Q116.22-3.65 118.85-3.52ZM139.58-3.52L139.58-3.52L139.58-3.52Q137.60 1.28 131.26 1.28L131.26 1.28L131.26 1.28Q128.06 1.28 126.02-0.96L126.02-0.96L126.02-0.96Q124.35-2.82 124.35-4.93L124.35-4.93L124.35-4.93Q124.35-9.73 126.59-20.22L126.59-20.22L131.26-44.80L144.26-46.08L138.05-13.70L138.05-13.70Q136.96-8.96 136.96-7.30L136.96-7.30L136.96-7.30Q136.96-3.65 139.58-3.52ZM184.13-10.82L184.13-10.82L184.13-10.82Q185.73-9.73 185.73-7.33L185.73-7.33L185.73-7.33Q185.73-4.93 184.51-3.39L184.51-3.39L184.51-3.39Q183.30-1.86 181.31-0.83L181.31-0.83L181.31-0.83Q177.22 1.28 172.80 1.28L172.80 1.28L172.80 1.28Q168.38 1.28 165.79 0.32L165.79 0.32L165.79 0.32Q163.20-0.64 161.47-2.43L161.47-2.43L161.47-2.43Q158.08-5.82 158.08-12.03L158.08-12.03L158.08-12.03Q158.08-21.70 163.33-27.58L163.33-27.58L163.33-27.58Q168.96-33.92 178.75-33.92L178.75-33.92L178.75-33.92Q184.83-33.92 187.84-31.36L187.84-31.36L187.84-31.36Q190.08-29.44 190.08-26.30L190.08-26.30L190.08-26.30Q190.08-15.04 170.62-15.04L170.62-15.04L170.62-15.04Q170.37-13.38 170.37-11.97L170.37-11.97L170.37-11.97Q170.37-9.02 171.68-7.90L171.68-7.90L171.68-7.90Q172.99-6.78 175.42-6.78L175.42-6.78L175.42-6.78Q177.86-6.78 180.45-7.90L180.45-7.90L180.45-7.90Q183.04-9.02 184.13-10.82ZM171.07-17.79L171.07-17.79L171.07-17.79Q175.62-17.79 178.24-20.61L178.24-20.61L178.24-20.61Q180.86-23.30 180.86-27.58L180.86-27.58L180.86-27.58Q180.86-29.06 180.32-29.86L180.32-29.86L180.32-29.86Q179.78-30.66 178.69-30.66L178.69-30.66L178.69-30.66Q177.60-30.66 176.67-30.24L176.67-30.24L176.67-30.24Q175.74-29.82 174.78-28.42L174.78-28.42L174.78-28.42Q172.42-25.22 171.07-17.79ZM238.34 1.28L238.34 1.28L238.34 1.28Q230.59 1.28 230.59-4.74L230.59-4.74L230.59-4.74Q230.59-7.36 231.71-12.45L231.71-12.45L231.71-12.45Q232.83-17.54 233.22-19.58L233.22-19.58L233.22-19.58Q234.11-24.26 234.11-25.73L234.11-25.73L234.11-25.73Q234.11-28.99 231.68-28.99L231.68-28.99L231.68-28.99Q230.08-28.99 228.54-26.78L228.54-26.78L228.54-26.78Q227.01-24.58 226.30-20.16L226.30-20.16L222.34 0L209.86 1.28L213.31-16.13L213.31-16.13Q213.89-19.01 214.40-22.27L214.40-22.27L214.40-22.27Q214.91-25.54 214.91-26.05L214.91-26.05L214.91-26.05Q214.91-28.99 212.74-28.99L212.74-28.99L212.74-28.99Q211.26-28.99 209.66-26.82L209.66-26.82L209.66-26.82Q208.06-24.64 207.17-20.16L207.17-20.16L203.26 0L190.66 1.28L197.38-32.64L207.81-33.92L206.72-27.46L206.72-27.46Q208.38-30.91 211.46-32.42L211.46-32.42L211.46-32.42Q214.53-33.92 219.33-33.92L219.33-33.92L219.33-33.92Q222.08-33.92 223.87-32.58L223.87-32.58L223.87-32.58Q225.66-31.23 226.24-29.06L226.24-29.06L226.24-29.06Q227.33-31.30 230.11-32.61L230.11-32.61L230.11-32.61Q232.90-33.92 236.32-33.92L236.32-33.92L236.32-33.92Q239.74-33.92 241.44-33.18L241.44-33.18L241.44-33.18Q243.14-32.45 244.16-31.23L244.16-31.23L244.16-31.23Q245.89-28.99 245.89-24.90L245.89-24.90L245.89-24.90Q245.89-20.86 244.16-12.48L244.16-12.48L244.16-12.48Q243.26-8.38 243.26-6.88L243.26-6.88L243.26-6.88Q243.26-5.38 244.13-4.48L244.13-4.48L244.13-4.48Q244.99-3.58 246.27-3.46L246.27-3.46L246.27-3.46Q245.63-1.28 243.42 0L243.42 0L243.42 0Q241.22 1.28 238.34 1.28ZM281.02-4.38L281.02-4.38L281.02-4.38Q278.34-1.66 274.66-0.19L274.66-0.19L274.66-0.19Q270.98 1.28 267.33 1.28L267.33 1.28L267.33 1.28Q263.68 1.28 262.40 0.64L262.40 0.64L260.42 11.52L247.42 12.80L256.26-32.64L266.69-33.73L265.86-29.31L265.86-29.31Q268.54-33.86 274.11-33.86L274.11-33.86L274.11-33.86Q280.38-33.86 283.71-29.82L283.71-29.82L283.71-29.82Q286.66-26.18 286.66-20.61L286.66-20.61L286.66-20.61Q286.66-15.04 285.18-11.07L285.18-11.07L285.18-11.07Q283.71-7.10 281.02-4.38ZM266.56-22.34L263.17-3.58L263.17-3.58Q264.51-2.43 266.18-2.43L266.18-2.43L266.18-2.43Q267.84-2.43 268.80-3.07L268.80-3.07L268.80-3.07Q269.76-3.71 270.46-4.99L270.46-4.99L270.46-4.99Q272.38-8.45 273.92-18.94L273.92-18.94L273.92-18.94Q274.37-22.02 274.37-25.02L274.37-25.02L274.37-25.02Q274.37-28.03 273.70-28.99L273.70-28.99L273.70-28.99Q273.02-29.95 271.74-29.95L271.74-29.95L271.74-29.95Q267.84-29.95 266.56-22.34L266.56-22.34ZM291.52-6.40L291.52-6.40L291.52-6.40Q291.52-8.13 292.42-12.48L292.42-12.48L295.81-29.76L292.03-29.76L292.29-31.68L292.29-31.68Q299.97-33.98 307.39-39.62L307.39-39.62L310.46-39.62L308.93-32.64L313.92-32.64L313.34-29.76L308.42-29.76L305.15-12.48L305.15-12.48Q304.32-8.51 304.32-7.17L304.32-7.17L304.32-7.17Q304.32-4.10 307.01-3.46L307.01-3.46L307.01-3.46Q306.37-1.28 304.06 0L304.06 0L304.06 0Q301.76 1.28 298.50 1.28L298.50 1.28L298.50 1.28Q295.23 1.28 293.38-0.77L293.38-0.77L293.38-0.77Q291.52-2.82 291.52-6.40ZM333.95-7.23L333.95-7.23L333.95-7.23Q330.62-3.78 324.54-3.78L324.54-3.78L324.54-3.78Q316.93-3.78 315.33-9.34L315.33-9.34L315.33-9.34Q314.82-11.01 314.82-12.86L314.82-12.86L314.82-12.86Q314.82-14.72 315.20-16.64L315.20-16.64L318.21-32.64L331.20-33.92L327.68-15.30L327.68-15.30Q327.55-14.46 327.36-13.57L327.36-13.57L327.36-13.57Q327.17-12.67 327.17-11.74L327.17-11.74L327.17-11.74Q327.17-10.82 327.49-10.21L327.49-10.21L327.49-10.21Q327.81-9.60 328.26-9.22L328.26-9.22L328.26-9.22Q329.02-8.70 330.40-8.70L330.40-8.70L330.40-8.70Q331.78-8.70 332.96-10.37L332.96-10.37L332.96-10.37Q334.14-12.03 334.72-14.91L334.72-14.91L338.24-32.64L350.85-33.92L346.05-8.77L346.05-8.77Q343.68 3.52 338.82 8.38L338.82 8.38L338.82 8.38Q336.32 10.88 333.09 11.87L333.09 11.87L333.09 11.87Q329.86 12.86 325.70 12.86L325.70 12.86L325.70 12.86Q318.98 12.86 315.14 10.75L315.14 10.75L315.14 10.75Q311.30 8.64 311.30 5.12L311.30 5.12L311.30 5.12Q311.30 2.50 313.28 0.99L313.28 0.99L313.28 0.99Q315.26-0.51 318.34-0.51L318.34-0.51L318.34-0.51Q321.02-0.51 323.07 0.64L323.07 0.64L323.07 0.64Q324.29 1.34 324.86 2.24L324.86 2.24L324.86 2.24Q323.39 3.52 323.39 5.63L323.39 5.63L323.39 5.63Q323.39 8.45 325.95 8.45L325.95 8.45L325.95 8.45Q330.18 8.45 332.61-1.28L332.61-1.28L332.61-1.28Q333.31-4.16 333.95-7.23Z" fill="url(#editing-outline-gradient)"></path></g></g><style>text {
            font-size: 64px;
            font-family: Arial Black;
            dominant-baseline: central;
            text-anchor: middle;
          }</style></svg>
        </v-col>
      </v-row>


  </div>
</template>

<script>
  import EditProfile from '~/components/profile/editprofile.vue'
  import Moralis from 'moralis';
  import Background from '~/components/profile/background.vue';
  import Post from '~/components/profile/messages.vue'
  import Detail from '~/components/profile/details.vue'
  import {mapState} from 'vuex'
  export default {
    middleware:'loggedin',
    components:{
      Post,
      Detail,
      Background,
      EditProfile
    },


    computed:{
      ...mapState(['user'])
    },

    data() {
      return {
        post: [],
      }
    },

    mounted() {
        this.fetchPost()
        
    },

    methods: {
      async fetchPost (){
            const params =  { id: this.user.id };
            const Post = await Moralis.Cloud.run("getWallPost",params);
            this.post =  Post.reverse();
      },
    },
  }
</script>

<style lang="scss" scoped>
@import url('https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&family=Be+Vietnam+Pro:wght@100&family=Kalam:wght@300;700&family=Permanent+Marker&family=Righteous&display=swap');

#overlayprofile {
  width: 100px;
  height: 100px;
  position: relative;
}
#navi,
#infoi {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
#infoi {
  z-index: 10;
}

</style>